import{d as f,P as C,r as s,u as h,o as y,w as i,_ as $,c as p,a as w,b as L,e as _,F as v,g as b,h as P,i as g,j as u}from"./index-Bb1Fhvs2.js";import{P as k,L as B}from"./Loading-DzEOaUgB.js";const N=f({name:"Category",components:{ProductCard:C,Pagination:k,Loading:B},setup(){const e=s([]),n=h();let l=n.params.id;const r=s(30),d=s(0),a=s(1),t=s(!1);y(()=>{a.value=Number(localStorage.getItem("current_page"))||1,o()});const o=async()=>{t.value=!0;const c=await(await fetch(`/api/v1/category/${l}/${r.value}`,{headers:{"Content-Type":"application/json"}})).json();e.value=c.products.products,d.value=c.products.pages,t.value=!1};return i(()=>a.value,()=>{r.value=a.value*30}),i(()=>r.value,()=>{o()}),i(()=>n.params.id,()=>{l=n.params.id,o()}),{products:e,currentPage:a,pages:d,loading:t}}}),j={class:"container-fluid pt-5"},V={class:"row px-xl-5 pb-3"},q={class:"col-lg-3 col-md-6 col-sm-12 pb-1"};function F(e,n,l,r,d,a){const t=g("Loading"),o=g("ProductCard"),m=g("Pagination");return u(),p(v,null,[e.loading?(u(),w(t,{key:0})):L("",!0),_("div",j,[_("div",V,[(u(!0),p(v,null,b(e.products,c=>(u(),p("div",q,[P(o,{product:c},null,8,["product"])]))),256))])]),P(m,{totalPages:e.pages,currentPage:e.currentPage},null,8,["totalPages","currentPage"])],64)}const I=$(N,[["render",F]]);export{I as default};
