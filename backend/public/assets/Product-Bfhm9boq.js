import{d as C,P as w,r as d,u as P,n as Q,o as z,w as y,_ as k,c as r,e as t,t as l,F as f,g as _,p as S,i as T,j as u,f as $,v as I,h as q}from"./index-BDouZfDY.js";const V=C({name:"Product",components:{ProductCard:w},setup(){const s=d({}),e=d([]),i=d(0),a=d(1),c=d([]),b=P(),o=Q();let n=b.params.id;z(()=>{p()});const p=async()=>{const v=await(await fetch(`/api/v1/products/get/${n}`,{headers:{"Content-Type":"application/json"}})).json();s.value=v.product,e.value=v.sizes,c.value=v.category_products,i.value=e.value[0].id,o.productInCart(s.value.id)&&(a.value=o.getProductQuantity(s.value.id),i.value=o.getProductSize(s.value.id))},m=()=>{if(!o.productInCart(s.value.id)){a.value<20&&(a.value+=1);return}o.incrementQuantity(s.value.id)},g=()=>{if(!o.productInCart(s.value.id)){a.value>1&&(a.value-=1);return}o.decrementQuantity(s.value.id)},h=()=>{o.addToCart(s.value.id,a.value,i.value)};return y(()=>o.getProductQuantity(s.value.id),()=>{o.productInCart(s.value.id)&&(a.value=o.getProductQuantity(s.value.id))}),y(()=>i.value,()=>{o.productInCart(s.value.id)&&o.setProductSize(s.value.id,i.value)}),{product:s,sizes:e,selectedSize:i,quantity:a,category_products:c,incrementQuantity:m,decrementQuantity:g,addToCart:h}}}),j={class:"container-fluid py-5"},B={class:"row px-xl-5"},L={class:"col-lg-5 pb-5"},M={id:"product-carousel",class:"carousel slide","data-ride":"carousel"},N={class:"carousel-inner border"},x={class:"carousel-item active"},A=["src"],D={class:"col-lg-7 pb-5"},E={class:"font-weight-semi-bold"},F={class:"font-weight-semi-bold mb-4"},R={class:"mb-4"},U={class:"d-flex mb-3"},Y={class:"custom-control custom-radio custom-control-inline"},G=["checked","id","value"],H=["for"],J={class:"d-flex align-items-center mb-4 pt-2"},K={class:"input-group quantity mr-3",style:{width:"130px"}},O={class:"input-group-btn"},W={class:"form-control bg-secondary text-center"},X={class:"input-group-btn"},Z={class:"container-fluid py-5"},tt={class:"row px-xl-5 pb-3"},st={class:"col-lg-3 col-md-6 col-sm-12 pb-1"};function et(s,e,i,a,c,b){const o=T("ProductCard");return u(),r(f,null,[t("div",j,[t("div",B,[t("div",L,[t("div",M,[t("div",N,[t("div",x,[t("img",{class:"w-100 h-100",src:s.product.image,alt:"Image"},null,8,A)])])])]),t("div",D,[t("h3",E,l(s.product.name),1),t("h3",F,"L.E "+l(s.product.price),1),t("p",R,l(s.product.description),1),t("div",U,[e[4]||(e[4]=t("p",{class:"text-dark font-weight-medium mb-0 mr-3"},"Sizes:",-1)),t("form",null,[(u(!0),r(f,null,_(s.sizes,(n,p)=>(u(),r("div",Y,[$(t("input",{type:"radio",class:"custom-control-input","onUpdate:modelValue":e[0]||(e[0]=m=>s.selectedSize=m),checked:p===0,id:`size-${n.id}`,value:n.id,name:"size"},null,8,G),[[I,s.selectedSize]]),t("label",{class:"custom-control-label",for:`size-${n.id}`},l(n.size),9,H)]))),256))])]),t("div",J,[t("div",K,[t("div",O,[t("button",{class:"btn btn-primary btn-minus",onClick:e[1]||(e[1]=(...n)=>s.decrementQuantity&&s.decrementQuantity(...n))},e[5]||(e[5]=[t("i",{class:"fa fa-minus"},null,-1)]))]),t("p",W,l(s.quantity),1),t("div",X,[t("button",{class:"btn btn-primary btn-plus",onClick:e[2]||(e[2]=(...n)=>s.incrementQuantity&&s.incrementQuantity(...n))},e[6]||(e[6]=[t("i",{class:"fa fa-plus"},null,-1)]))])]),t("button",{class:"btn btn-primary px-3",onClick:e[3]||(e[3]=(...n)=>s.addToCart&&s.addToCart(...n))},e[7]||(e[7]=[t("i",{class:"fa fa-shopping-cart mr-1"},null,-1),S(" Add To Cart ")]))])])])]),t("div",Z,[e[8]||(e[8]=t("div",{class:"text-center mb-4"},[t("h2",{class:"section-title px-5"},[t("span",{class:"px-2"},"You May Also Like")])],-1)),t("div",tt,[(u(!0),r(f,null,_(s.category_products,n=>(u(),r("div",st,[q(o,{product:n},null,8,["product"])]))),256))])])],64)}const at=k(V,[["render",et]]);export{at as default};
